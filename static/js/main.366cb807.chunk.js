(this["webpackJsonphome-assignment"]=this["webpackJsonphome-assignment"]||[]).push([[0],{100:function(e,t,r){"use strict";r.r(t);var n,a,i,c,s,o,b,u,j,l,p,g=r(1),O=r(0),h=r(16),d=r.n(h),f=(r(62),r(25)),m=r(7),x=r(101),v=r(17),y=r.n(v),k=r(20),w=r(15),N=r(27),P=r(28),F=r(9),R=(r(40),r(4)),C=r(53),z=r.n(C),B="https://api.punkapi.com/v2/beers",D=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.a.get(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.response.data.statusCode,error:{errType:e.t0.response.data.error,msg:e.t0.response.data.message}});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),A={getNextPage:function(e){return D("".concat(B,"?page=").concat(e,"&per_page=10"))},getFoodPairing:function(e){return D("".concat(B,"?food=").concat(e))}},M=(n=function(){function e(){Object(N.a)(this,e),Object(w.a)(this,"beers",a,this),Object(w.a)(this,"status",i,this),Object(w.a)(this,"error",c,this),Object(w.a)(this,"isNextPage",s,this),Object(w.a)(this,"isSearching",o,this),Object(R.e)(this)}return Object(P.a)(e,[{key:"getBeers",value:function(){var e=Object(k.a)(y.a.mark((function e(t){var r,n,a,i,c,s=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]&&s[1],e.next=3,A.getNextPage(t);case 3:n=e.sent,a=n.status,i=n.data,c=n.error,this.handleApiResponse(a,i,c,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFoodPairing",value:function(e){var t=this;if(e){var r=e.replace(/ +(?= )/g,"").split(" ").join("_");A.getFoodPairing(r).then((function(e){t.isSearching=!1,t.beers=e.data})).catch((function(e){t.handleError(e.status,e.error)})),this.isSearching=!0}}},{key:"handleApiResponse",value:function(e,t,r,n){var a=this;200!==e?this.handleError(e,r):n?this.setIsNextPage(10===t.length):setTimeout((function(){a.beers=[],a.beers=t}),0)}},{key:"handleError",value:function(e,t){this.status=e,this.error=t}},{key:"setIsNextPage",value:function(e){this.isNextPage=e}}]),e}(),a=Object(F.a)(n.prototype,"beers",[R.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=Object(F.a)(n.prototype,"status",[R.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),c=Object(F.a)(n.prototype,"error",[R.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),s=Object(F.a)(n.prototype,"isNextPage",[R.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),o=Object(F.a)(n.prototype,"isSearching",[R.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(F.a)(n.prototype,"getBeers",[R.b],Object.getOwnPropertyDescriptor(n.prototype,"getBeers"),n.prototype),Object(F.a)(n.prototype,"getFoodPairing",[R.b],Object.getOwnPropertyDescriptor(n.prototype,"getFoodPairing"),n.prototype),Object(F.a)(n.prototype,"handleApiResponse",[R.b],Object.getOwnPropertyDescriptor(n.prototype,"handleApiResponse"),n.prototype),Object(F.a)(n.prototype,"handleError",[R.b],Object.getOwnPropertyDescriptor(n.prototype,"handleError"),n.prototype),Object(F.a)(n.prototype,"setIsNextPage",[R.b],Object.getOwnPropertyDescriptor(n.prototype,"setIsNextPage"),n.prototype),n),T=Object(O.createContext)(new M),E=(b=function(){function e(){Object(N.a)(this,e),Object(w.a)(this,"paginationRange",u,this),Object(w.a)(this,"isMarked",j,this),Object(w.a)(this,"active",l,this),Object(w.a)(this,"isFavorite",p,this),Object(R.e)(this)}return Object(P.a)(e,[{key:"toggleMarkedRoutes",value:function(){this.isMarked=!this.isMarked}},{key:"getPaginationRange",value:function(e){this.paginationRange=Array.from({length:5},(function(t,r){return r+e}))}},{key:"setActive",value:function(e){this.active=e}},{key:"toggleFavorite",value:function(e,t,r){e.current.src.includes("unfavorite")?e.current.src=t:e.current.src=r}}]),e}(),u=Object(F.a)(b.prototype,"paginationRange",[R.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[1,2,3,4,5]}}),j=Object(F.a)(b.prototype,"isMarked",[R.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l=Object(F.a)(b.prototype,"active",[R.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),p=Object(F.a)(b.prototype,"isFavorite",[R.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(F.a)(b.prototype,"toggleMarkedRoutes",[R.b],Object.getOwnPropertyDescriptor(b.prototype,"toggleMarkedRoutes"),b.prototype),Object(F.a)(b.prototype,"getPaginationRange",[R.b],Object.getOwnPropertyDescriptor(b.prototype,"getPaginationRange"),b.prototype),Object(F.a)(b.prototype,"setActive",[R.b],Object.getOwnPropertyDescriptor(b.prototype,"setActive"),b.prototype),Object(F.a)(b.prototype,"toggleFavorite",[R.b],Object.getOwnPropertyDescriptor(b.prototype,"toggleFavorite"),b.prototype),b),I=Object(O.createContext)(new E),_=r(39),S=r.p+"static/media/beer2.82011c5a.png",J=(r(82),Object(x.a)((function(){var e=Object(O.useContext)(I),t=e.isMarked;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(_.a,{bg:"dark",variant:"dark",className:"header",children:[Object(g.jsxs)(_.a.Brand,{children:["Beer",Object(g.jsx)("span",{className:"text-muted",children:"Buddy"})]}),Object(g.jsxs)(f.b,{to:"/home-assignment/browse",className:t?"mark-route":"",onClick:function(){return e.toggleMarkedRoutes()},children:[Object(g.jsx)("label",{className:"buzz-next b-lbl",children:" Browse Beers "}),Object(g.jsx)("img",{src:S,className:"hvr-buzz-out beer-img",alt:""})]}),Object(g.jsxs)(f.b,{to:"/home-assignment/favorites",className:t?"":"mark-route ",onClick:function(){return e.toggleMarkedRoutes()},children:[Object(g.jsx)("label",{className:"buzz-next b-lbl",children:" Favorite Beers "}),Object(g.jsx)("img",{src:S,className:"hvr-buzz-out beer-img",alt:""})]})]})})}))),L=r(26),W=r(29),q=function(e){var t=e.name,r=e.tagline,n=e.description,a=e.brewers_tips;return Object(g.jsxs)(g.Fragment,{children:["\n",Object(g.jsx)("h3",{children:t}),Object(g.jsxs)("h6",{children:[Object(g.jsx)("b",{children:"Tagline -"})," ",r]}),Object(g.jsxs)("h6",{children:[Object(g.jsx)("b",{children:"Description -"})," ",n]}),Object(g.jsxs)("h6",{children:[Object(g.jsx)("b",{children:"Brewers Tips -"})," ",a]})]})},G=r.p+"static/media/No_image.ec3f217a.png",H=r.p+"static/media/favorite.c663327f.png",K=r.p+"static/media/unfavorite.e20f26b1.png",Q=(r(92),Object(x.a)((function(e){var t=e.name,r=e.image_url,n=e.tagline,a=e.description,i=e.brewers_tips,c=Object(O.useContext)(I).toggleFavorite,s=Object(O.useRef)(),o=Object(O.useRef)(),b=Object(W.useToasts)().addToast;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"loading between",onClick:function(){b(Object(g.jsx)(q,Object(L.a)({},{name:t,image_url:r,tagline:n,description:a,brewers_tips:i})),{appearance:"info",autoDismiss:!0})},ref:o,children:[Object(g.jsx)("label",{className:"name-lbl",children:t}),Object(g.jsx)("img",{ref:s,src:K,alt:"",className:"favorite",onClick:function(e){e.stopPropagation(),c(s,H,K)}}),Object(g.jsx)("img",{src:r||G,onLoad:function(){o.current.className="text-white bg-primary mb-4 between card-cont "},alt:"img",className:r?"card-img":"card-img stretch"})]})})}))),U=r(22),V=(r(93),Object(x.a)((function(){var e=Object(O.useContext)(T),t=Object(O.useContext)(I),r=t.active,n=t.paginationRange,a=n[0],i=n[n.length-1]+1;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(U.a,{className:"pag-container",children:[Object(g.jsx)(U.a.First,{onClick:function(){e.setIsNextPage(!0),t.getPaginationRange(1)},className:1===a?"disabled":""}),Object(g.jsx)(U.a.Prev,{className:1===a?"disabled":"",onClick:function(){e.setIsNextPage(!0),t.getPaginationRange(--a)}}),t.paginationRange.map((function(n,a){return Object(g.jsx)(U.a.Item,{onClick:function(){t.setActive(n),e.getBeers(n)},className:n===r?"active":"",children:n},a)})),Object(g.jsx)(U.a.Next,{onClick:Object(k.a)(y.a.mark((function r(){return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getBeers(i,!0);case 2:t.getPaginationRange(++a);case 3:case"end":return r.stop()}}),r)}))),className:e.isNextPage?"":"disabled"})]})})}))),X=r(30),Y=r(55),Z=(r(94),Object(x.a)((function(){var e=Object(O.useContext)(T),t=Object(O.useRef)();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(X.a,{className:"mb-3 search",children:[Object(g.jsx)(Y.a,{placeholder:"Food Pairing",ref:t}),Object(g.jsx)(X.a.Append,{children:Object(g.jsx)(X.a.Text,{id:"basic-addon2",onClick:function(){return e.getFoodPairing(t.current.value)},children:"\ud83d\udd0d"})})]})})}))),$=Object(x.a)((function(){var e=Object(O.useContext)(T).error,t=e.errType,r=e.msg;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h1",{className:"text-danger",children:[" ",t," "]}),Object(g.jsxs)("h3",{className:"text-danger",children:[" ",r," "]})]})})),ee=(r(98),Object(x.a)((function(){var e=Object(O.useContext)(T),t=e.beers,r=e.status;return Object(O.useEffect)((function(){e.getBeers("1")}),[e]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(W.ToastProvider,{autoDismiss:!0,autoDismissTimeout:3e4,children:Object(g.jsxs)("div",{className:"container-md",children:[Object(g.jsx)(Z,{}),200===r?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"d-flex flex-wrap  justify-content-start",children:t.map((function(e,t){return Object(O.createElement)(Q,Object(L.a)(Object(L.a)({},e),{},{key:t}))}))}),Object(g.jsx)(V,{})]}):Object(g.jsx)($,{})]})})})}))),te=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("h1",{children:"Favorites Works!"})})},re=(r(99),function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(f.a,{children:[Object(g.jsx)(J,{}),Object(g.jsxs)(m.d,{children:[Object(g.jsx)(m.b,{path:"/home-assignment/browse",component:ee}),Object(g.jsx)(m.b,{path:"/home-assignment/favorites",component:te}),Object(g.jsx)(m.a,{from:"/",to:"/home-assignment/browse"})]})]})})});Object(R.c)({enforceActions:"never"}),d.a.render(Object(g.jsx)(re,{}),document.getElementById("root"))},82:function(e,t,r){},92:function(e,t,r){},93:function(e,t,r){},94:function(e,t,r){},98:function(e,t,r){},99:function(e,t,r){}},[[100,1,2]]]);
//# sourceMappingURL=main.366cb807.chunk.js.map