(this.webpackJsonpBeerBuddy=this.webpackJsonpBeerBuddy||[]).push([[0],{102:function(e,t,r){},103:function(e,t,r){},104:function(e,t,r){},105:function(e,t,r){"use strict";r.r(t);var a,n,i,c,o,s,b,u,j,l,p,O,d,f,g=r(1),h=r(0),v=r(19),m=r.n(v),x=(r(65),r(28)),y=r(9),F=r(106),k=r(29),w=r(20),N=r.n(w),R=r(23),P=r(12),C=r(30),B=r(31),D=r(5),z=(r(43),r(4)),T=r(56),A=r.n(T),E="https://api.punkapi.com/v2/beers",M=function(){var e=Object(R.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{status:e.t0.response.data.statusCode,error:{errType:e.t0.response.data.error,msg:e.t0.response.data.message}});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),S={getNextPage:function(e){return M("".concat(E,"?page=").concat(e,"&per_page=10"))},getFoodPairing:function(e){return M("".concat(E,"?food=").concat(e))}},I=(a=function(){function e(){Object(C.a)(this,e),Object(P.a)(this,"beers",n,this),Object(P.a)(this,"favorites",i,this),Object(P.a)(this,"status",c,this),Object(P.a)(this,"error",o,this),Object(P.a)(this,"isNextPage",s,this),Object(P.a)(this,"isSearching",b,this),Object(z.e)(this)}return Object(B.a)(e,[{key:"getBeers",value:function(){var e=Object(R.a)(N.a.mark((function e(t){var r,a,n,i,c,o=arguments;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]&&o[1],e.next=3,S.getNextPage(t);case 3:a=e.sent,n=a.status,i=a.data,c=a.error,this.handleApiResponse(n,i,c,r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFoodPairing",value:function(e){var t=this;if(e){var r=e.replace(/ +(?= )/g,"").split(" ").join("_");S.getFoodPairing(r).then((function(e){t.isSearching=!1,t.beers=e.data})).catch((function(e){t.handleError(e.status,e.error)})),this.isSearching=!0}}},{key:"handleApiResponse",value:function(e,t,r,a){var n=this;200!==e?this.handleError(e,r):a?this.setIsNextPage(10===t.length):setTimeout((function(){n.beers=[],n.beers=t,n.updateFavorite(t)}),0)}},{key:"handleError",value:function(e,t){this.status=e,this.error=t}},{key:"setIsNextPage",value:function(e){this.isNextPage=e}},{key:"toggleFavorite",value:function(e){var t,r=Object(k.a)(this.beers);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.id===e&&(a.isFavorite=!a.isFavorite,a.isFavorite?this.addFavorite(a):this.removeFavorite(e))}}catch(n){r.e(n)}finally{r.f()}}},{key:"addFavorite",value:function(e){e.isFavorite=!0,this.favorites.push(e)}},{key:"removeFavorite",value:function(e){var t=this.favorites.find((function(t){return t.id===e})),r=this.favorites.indexOf(t);this.favorites.splice(r,1)}},{key:"updateFavorite",value:function(){var e,t=Object(k.a)(this.favorites);try{for(t.s();!(e=t.n()).done;){var r,a=e.value,n=Object(k.a)(this.beers);try{for(n.s();!(r=n.n()).done;){var i=r.value;a.id===i.id&&(i.isFavorite=!i.isFavorite)}}catch(c){n.e(c)}finally{n.f()}}}catch(c){t.e(c)}finally{t.f()}}},{key:"setRank",value:function(e,t){var r,a=Object(k.a)(this.favorites);try{for(a.s();!(r=a.n()).done;){var n=r.value;n.id===t&&(n.rank=e)}}catch(i){a.e(i)}finally{a.f()}}}]),e}(),n=Object(D.a)(a.prototype,"beers",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=Object(D.a)(a.prototype,"favorites",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=Object(D.a)(a.prototype,"status",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),o=Object(D.a)(a.prototype,"error",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),s=Object(D.a)(a.prototype,"isNextPage",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=Object(D.a)(a.prototype,"isSearching",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(D.a)(a.prototype,"getBeers",[z.b],Object.getOwnPropertyDescriptor(a.prototype,"getBeers"),a.prototype),Object(D.a)(a.prototype,"getFoodPairing",[z.b],Object.getOwnPropertyDescriptor(a.prototype,"getFoodPairing"),a.prototype),Object(D.a)(a.prototype,"handleApiResponse",[z.b],Object.getOwnPropertyDescriptor(a.prototype,"handleApiResponse"),a.prototype),Object(D.a)(a.prototype,"handleError",[z.b],Object.getOwnPropertyDescriptor(a.prototype,"handleError"),a.prototype),Object(D.a)(a.prototype,"setIsNextPage",[z.b],Object.getOwnPropertyDescriptor(a.prototype,"setIsNextPage"),a.prototype),Object(D.a)(a.prototype,"toggleFavorite",[z.b],Object.getOwnPropertyDescriptor(a.prototype,"toggleFavorite"),a.prototype),Object(D.a)(a.prototype,"addFavorite",[z.b],Object.getOwnPropertyDescriptor(a.prototype,"addFavorite"),a.prototype),Object(D.a)(a.prototype,"removeFavorite",[z.b],Object.getOwnPropertyDescriptor(a.prototype,"removeFavorite"),a.prototype),Object(D.a)(a.prototype,"updateFavorite",[z.b],Object.getOwnPropertyDescriptor(a.prototype,"updateFavorite"),a.prototype),Object(D.a)(a.prototype,"setRank",[z.b],Object.getOwnPropertyDescriptor(a.prototype,"setRank"),a.prototype),a),_=Object(h.createContext)(new I),L=r.p+"static/media/favorite.c663327f.png",J=r.p+"static/media/unfavorite.e20f26b1.png",Y=(u=function(){function e(){Object(C.a)(this,e),Object(P.a)(this,"paginationRange",j,this),Object(P.a)(this,"isMarked",l,this),Object(P.a)(this,"active",p,this),Object(P.a)(this,"isFavorite",O,this),Object(P.a)(this,"isFirstLoad",d,this),Object(P.a)(this,"containerRef",f,this),Object(z.e)(this)}return Object(B.a)(e,[{key:"toggleMarkedRoutes",value:function(){this.isMarked=!this.isMarked}},{key:"getPaginationRange",value:function(e){this.paginationRange=Array.from({length:5},(function(t,r){return r+e}))}},{key:"setActive",value:function(e){this.active=e}},{key:"toggleFavoriteStar",value:function(e,t){e.current.src=t?L:J}},{key:"animateRemoveFav",value:function(){this.containerRef.current.childNodes.forEach((function(e){e.className+=" removed-item"}))}}]),e}(),j=Object(D.a)(u.prototype,"paginationRange",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[1,2,3,4,5]}}),l=Object(D.a)(u.prototype,"isMarked",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=Object(D.a)(u.prototype,"active",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),O=Object(D.a)(u.prototype,"isFavorite",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=Object(D.a)(u.prototype,"isFirstLoad",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=Object(D.a)(u.prototype,"containerRef",[z.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Object(D.a)(u.prototype,"toggleMarkedRoutes",[z.b],Object.getOwnPropertyDescriptor(u.prototype,"toggleMarkedRoutes"),u.prototype),Object(D.a)(u.prototype,"getPaginationRange",[z.b],Object.getOwnPropertyDescriptor(u.prototype,"getPaginationRange"),u.prototype),Object(D.a)(u.prototype,"setActive",[z.b],Object.getOwnPropertyDescriptor(u.prototype,"setActive"),u.prototype),Object(D.a)(u.prototype,"toggleFavoriteStar",[z.b],Object.getOwnPropertyDescriptor(u.prototype,"toggleFavoriteStar"),u.prototype),Object(D.a)(u.prototype,"animateRemoveFav",[z.b],Object.getOwnPropertyDescriptor(u.prototype,"animateRemoveFav"),u.prototype),u),q=Object(h.createContext)(new Y),G=r(42),H=r.p+"static/media/beer2.82011c5a.png",K=(r(85),Object(F.a)((function(){var e=Object(h.useContext)(q),t=e.isMarked;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(G.a,{bg:"dark",variant:"dark",className:"header",children:[Object(g.jsxs)(G.a.Brand,{children:["Beer",Object(g.jsx)("span",{className:"text-muted",children:"Buddy"})]}),Object(g.jsxs)(x.b,{to:"/BeerBuddy/browse",className:t?"mark-route":"",onClick:function(){e.toggleMarkedRoutes()},children:[Object(g.jsx)("label",{className:"buzz-next b-lbl",children:" Browse Beers "}),Object(g.jsx)("img",{src:H,className:"hvr-buzz-out beer-img",alt:""})]}),Object(g.jsxs)(x.b,{to:"/BeerBuddy/favorites",className:t?"":"mark-route ",onClick:function(){return e.toggleMarkedRoutes()},children:[Object(g.jsx)("label",{className:"buzz-next b-lbl",children:" Favorite Beers "}),Object(g.jsx)("img",{src:H,className:"hvr-buzz-out beer-img",alt:""})]})]})})}))),Q=r(17),U=r(16),V=function(e){var t=e.name,r=e.tagline,a=e.description,n=e.brewers_tips;return Object(g.jsxs)(g.Fragment,{children:["\n",Object(g.jsx)("h3",{children:t}),Object(g.jsxs)("h6",{children:[Object(g.jsx)("b",{children:"Tagline -"})," ",r]}),Object(g.jsxs)("h6",{children:[Object(g.jsx)("b",{children:"Description -"})," ",a]}),Object(g.jsxs)("h6",{children:[Object(g.jsx)("b",{children:"Brewers Tips -"})," ",n]})]})},W=r.p+"static/media/No_image.ec3f217a.png",X=(r(95),Object(F.a)((function(e){var t=e.id,r=e.rank,a=Object(h.useContext)(_),n=Object(h.useRef)();return Object(h.useEffect)((function(){n.current.value=r||"1"}),[n,r]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("lable",{className:"rk-lbl",children:" Rank: "}),Object(g.jsxs)("select",{ref:n,onClick:function(e){e.stopPropagation(),a.setRank(n.current.value,t)},children:[Object(g.jsx)("option",{value:"1",children:"1"}),Object(g.jsx)("option",{value:"2",children:"2"}),Object(g.jsx)("option",{value:"3",children:"3"}),Object(g.jsx)("option",{value:"4",children:"4"}),Object(g.jsx)("option",{value:"5",children:"5"})]})]})}))),Z=r(24),$=Object(F.a)((function(e){var t=e.id,r=e.cardRef,a=e.imgRef,n=e.isFavorite,i=Object(h.useContext)(_),c=Object(h.useContext)(q).toggleFavoriteStar,o=Object(U.useToasts)().removeAllToasts;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{children:[Object(g.jsx)("h4",{children:"Remove this beer from favorits?"}),Object(g.jsx)(Z.a,{type:"button",className:"btn btn-danger",onClick:function(){r.current.className+=" removed-item",setTimeout((function(){c(a,n),i.toggleFavorite(t),o()}),1e3)},children:"Yes"})]})})})),ee=(r(96),Object(F.a)((function(e){var t=e.id,r=e.name,a=e.image_url,n=e.tagline,i=e.description,c=e.brewers_tips,o=e.isFavorite,s=e.isFromFav,b=e.rank,u=Object(h.useContext)(q),j=Object(h.useContext)(_),l=u.toggleFavoriteStar,p=Object(h.useRef)(),O=Object(h.useRef)(),d=Object(U.useToasts)().addToast;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"loading between",onClick:function(){d(Object(g.jsx)(V,Object(Q.a)({},{name:r,image_url:a,tagline:n,description:i,brewers_tips:c})),{appearance:"info",autoDismiss:!0})},ref:O,children:[Object(g.jsx)("label",{className:"name-lbl",children:r}),Object(g.jsx)("img",{ref:p,src:o?L:J,alt:"",className:"favorite",onClick:function(e){e.stopPropagation(),o&&s?d(Object(g.jsx)($,Object(Q.a)({},{id:t,cardRef:O,imgRef:p,isFavorite:o})),{appearance:"warning",autoDismiss:!0}):(j.toggleFavorite(t),l(p,o))}}),Object(g.jsx)("img",{src:a||W,onLoad:function(){O.current.className="text-white bg-primary mb-4 between card-cont "},alt:"img",className:a?"card-img":"card-img stretch"}),s?Object(g.jsx)(X,Object(Q.a)({},{id:t,rank:b})):""]})})}))),te=r(26),re=(r(97),Object(F.a)((function(){var e=Object(h.useContext)(_),t=Object(h.useContext)(q),r=t.active,a=t.paginationRange,n=a[0],i=a[a.length-1]+1;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(te.a,{className:"pag-container",children:[Object(g.jsx)(te.a.First,{onClick:function(){e.setIsNextPage(!0),t.getPaginationRange(1)},className:1===n?"disabled":""}),Object(g.jsx)(te.a.Prev,{className:1===n?"disabled":"",onClick:function(){e.setIsNextPage(!0),t.getPaginationRange(--n)}}),t.paginationRange.map((function(a,n){return Object(g.jsx)(te.a.Item,{onClick:function(){t.setActive(a),e.getBeers(a)},className:a===r?"active":"",children:a},n)})),Object(g.jsx)(te.a.Next,{onClick:Object(R.a)(N.a.mark((function r(){return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getBeers(i,!0);case 2:t.getPaginationRange(++n);case 3:case"end":return r.stop()}}),r)}))),className:e.isNextPage?"":"disabled"})]})})}))),ae=r(33),ne=r(58),ie=(r(98),Object(F.a)((function(){var e=Object(h.useContext)(_),t=Object(h.useRef)();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(ae.a,{className:"mb-3 search",children:[Object(g.jsx)(ne.a,{placeholder:"Food Pairing",ref:t}),Object(g.jsx)(ae.a.Append,{children:Object(g.jsx)(ae.a.Text,{id:"basic-addon2",onClick:function(){return e.getFoodPairing(t.current.value)},children:"\ud83d\udd0d"})})]})})}))),ce=Object(F.a)((function(){var e=Object(h.useContext)(_).error,t=e.errType,r=e.msg;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("h1",{className:"text-danger",children:[" ",t," "]}),Object(g.jsxs)("h3",{className:"text-danger",children:[" ",r," "]})]})})),oe=(r(102),Object(F.a)((function(){var e=Object(h.useContext)(_),t=Object(h.useContext)(q),r=e.beers,a=e.status;return Object(h.useEffect)((function(){t.isFirstLoad&&(e.getBeers("1"),t.isFirstLoad=!1)}),[e,t]),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"container-md",children:[Object(g.jsx)(ie,{}),200===a?Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{className:"d-flex flex-wrap  justify-content-start",children:r.map((function(e,t){return Object(h.createElement)(ee,Object(Q.a)(Object(Q.a)({},e),{},{key:t}))}))}),Object(g.jsx)(re,{})]}):Object(g.jsx)(ce,{})]})})}))),se=Object(F.a)((function(){var e=Object(h.useContext)(_),t=Object(h.useContext)(q),r=Object(h.useRef)(),a=Object(U.useToasts)().removeAllToasts;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{ref:r,children:[Object(g.jsx)("h4",{children:"Are you sure you whant to remove all favorites?"}),Object(g.jsx)(Z.a,{type:"button",className:"btn btn-danger",onClick:function(){a(),e.updateFavorite(),t.animateRemoveFav(),setTimeout((function(){e.favorites=[]}),1e3)},children:"Yes"})]})})})),be=(r(103),Object(F.a)((function(){var e=Object(h.useContext)(_),t=Object(h.useContext)(q),r=e.favorites,a=Object(h.useRef)();t.containerRef=a;var n=Object(U.useToasts)().addToast;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"container-md",children:[Object(g.jsx)("label",{children:Object(g.jsxs)("h1",{className:"text-white",children:[" ","Favorite",Object(g.jsx)("span",{className:"text-muted",children:"Beers"})]})}),Object(g.jsx)(Z.a,{variant:"danger",className:"rmv-btn",onClick:function(){n(Object(g.jsx)(se,{}),{appearance:"warning",autoDismiss:!0})},children:"Remove All"}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"d-flex flex-wrap  justify-content-start",ref:a,children:r.map((function(e,t){return Object(h.createElement)(ee,Object(Q.a)(Object(Q.a)({},e),{},{isFromFav:!0,key:t}))}))})})]})})}))),ue=(r(104),function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(x.a,{children:Object(g.jsxs)(U.ToastProvider,{autoDismiss:!0,autoDismissTimeout:3e4,children:[Object(g.jsx)(K,{}),Object(g.jsxs)(y.d,{children:[Object(g.jsx)(y.b,{path:"/BeerBuddy/browse",component:oe}),Object(g.jsx)(y.b,{path:"/BeerBuddy/favorites",component:be}),Object(g.jsx)(y.a,{from:"/",to:"/BeerBuddy/browse"})]})]})})})});Object(z.c)({enforceActions:"never"}),m.a.render(Object(g.jsx)(ue,{}),document.getElementById("root"))},85:function(e,t,r){},95:function(e,t,r){},96:function(e,t,r){},97:function(e,t,r){},98:function(e,t,r){}},[[105,1,2]]]);
//# sourceMappingURL=main.3e6afca8.chunk.js.map